<?xml version="1.0" encoding="ASCII"?>
<!--
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.    
-->

<!-- MyValueComposite Wires examples -->

<composite     xmlns="http://docs.oasis-open.org/ns/opencsa/sca/200903"

               targetNamespace="http://foo.com"

               name="MyValueComposite2" >

 	<include name="store"/>
 	<include name="Calculator"/>
 	<include name="supplychain"/>

   <service name="MyValueService" promote="MyValueServiceComponent">

         <interface.java interface="services.myvalue.MyValueService"/>

         <binding.ws port="http://www.myvalue.org/MyValueService#

               wsdl.endpoint(MyValueService/MyValueServiceSOAP)"/>

   </service>

 

   <component name="MyValueServiceComponent">

         <implementation.java

               class="services.myvalue.MyValueServiceImpl"/>

         <property name="currency">EURO</property>

         <service name="myValueService"/>

         <reference name="customerService"/>

         <reference name="stockQuoteService"/>

   </component>

 

   <wire source="MyValueServiceComponent/stockQuoteService"

         target="StockQuoteMediatorComponent"/>

 

   <component name="StockQuoteMediatorComponent">

         <implementation.java class="services.myvalue.SQMediatorImpl"/>

         <property name="currency">EURO</property>

         <reference name="stockQuoteService"/>

   </component>
   
   <component name="SubtractServiceComponent">
        <implementation.java class="calculator.SubtractServiceImpl"/>
    </component>

    <component name="MultiplyServiceComponent">
        <implementation.java class="calculator.MultiplyServiceImpl"/>
    </component>
   

 

   <reference name="CustomerService"

         promote="MyValueServiceComponent/customerService StockQuoteMediatorComponent">

         <interface.java interface="services.customer.CustomerService"/>

         <binding.sca/>

   </reference>

  <property name="currency">EURO</property>

   <reference name="StockQuoteService" 

         promote="StockQuoteMediatorComponent">

         <interface.java

               interface="services.stockquote.StockQuoteService"/>

         <binding.ws port="http://www.stockquote.org/StockQuoteService#

               wsdl.endpoint(StockQuoteService/StockQuoteServiceSOAP)"/>

   </reference>

 

</composite>